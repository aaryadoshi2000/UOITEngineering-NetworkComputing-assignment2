(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{246:function(e,t,a){e.exports=a(401)},272:function(e,t,a){},349:function(e,t,a){},399:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),s=a.n(o),c=a(28),i=a(22),l=a(23),u=a(26),p=a(25),m=a(20),d=a(33),f=a(416),b=a(419),h=a(18),v=a.n(h),E=a(48),g=a(30),y=a(210),k=a.n(y).a.create({baseURL:"https://task-box.herokuapp.com/api"}),O=a(36),x=Object(O.a)(),w=(a(272),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){var t=localStorage.getItem("token");t&&e.props.fetchUser(t)},e.componentDidUpdate=function(){null!==e.props.isSignedIn&&(!0===e.props.isSignedIn?localStorage.setItem("token",e.props.token):localStorage.setItem("token",""))},e.onSignOutClick=function(){e.props.logOut(e.props.token)},e.renderAuthButton=function(){return null===e.props.isSignedIn?null:!0===e.props.isSignedIn?r.a.createElement("div",{className:"ui medium button blue",onClick:e.onSignOutClick},"Logout"):r.a.createElement("span",null,r.a.createElement(d.a,{to:"/signin",className:"ui medium button blue"},"Login"),r.a.createElement(d.a,{to:"/signup",className:"ui medium button blue"},"Register"))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderAuthButton())}}]),a}(r.a.Component)),j={fetchUser:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/users/me",{headers:{Authorization:"Bearer ".concat(e)}});case 3:200===(n=t.sent).status?a({type:"LOG_IN",payload:n.data}):console.log(n.status),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),a({type:"LOG_OUT"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOG_OUT"}),x.push("/");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},S=Object(m.b)((function(e){return{isSignedIn:e.auth.isSignedIn,token:e.auth.token}}),j)(w),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"renderProfileBtn",value:function(){return this.props.user?r.a.createElement(f.a.Brand,null,r.a.createElement(d.a,{to:"/profile",style:{color:"#2980b9",textDecoration:"none"}},"Profile")):r.a.createElement("p",null)}},{key:"renderTaskBtn",value:function(){return this.props.user?r.a.createElement(f.a.Brand,null,r.a.createElement(d.a,{to:"/tasks",style:{color:"#2980b9",textDecoration:"none"}},"Tasks")):r.a.createElement("p",null)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,{bg:"light",expand:"sm",style:{marginBottom:"15%"}},r.a.createElement(f.a.Brand,null,r.a.createElement(d.a,{to:"/",style:{color:"#2980b9",textDecoration:"none"}},r.a.createElement("h3",null,"Task Box"))),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(b.a,{className:"mr-auto"}),r.a.createElement(b.a,null,this.renderTaskBtn(),this.renderProfileBtn(),r.a.createElement(S,null)))))}}]),a}(r.a.Component),C=Object(m.b)((function(e){return{user:e.auth.user}}),null)(N),I=a(147),A=a(417),T=a(415),P=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).renderInput=function(t){var a=t.input,n=t.label,o=t.type,s=t.meta,c="field ".concat(s.error&&s.touched?"error":"");return r.a.createElement("div",{className:c},r.a.createElement("label",null,n),r.a.createElement("input",Object.assign({},a,{placeholder:n,type:o,autoComplete:"off"})),e.renderError(s))},e.onSubmit=function(t){e.props.onSubmit(t)},e.render=function(){var t=e.props,a=t.error,n=t.handleSubmit,o=t.pristine,s=t.reset,c=t.submitting;return r.a.createElement("form",{className:"ui form error",onSubmit:n(e.onSubmit)},r.a.createElement(A.a,{name:"name",type:"text",component:e.renderInput,label:"Name"}),r.a.createElement(A.a,{name:"email",type:"text",component:e.renderInput,label:"Email"}),r.a.createElement(A.a,{name:"age",type:"number",component:e.renderInput,label:"Age"}),r.a.createElement(A.a,{name:"password",type:"password",component:e.renderInput,label:"Password"}),r.a.createElement("div",null,e.renderSubmitError(a),r.a.createElement("div",null,r.a.createElement("button",{className:"ui button primary",type:"submit",disabled:c},"Submit"),r.a.createElement("button",{className:"ui button red",type:"button",disabled:o||c,onClick:s},"Clear"))))},e}return Object(l.a)(a,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("div",{style:{color:"#770000"}},r.a.createElement("i",{className:"ui icon exclamation circle"}),t)}},{key:"renderSubmitError",value:function(e){if(e)return r.a.createElement("h3",{style:{color:"#770000"}},r.a.createElement("i",{className:"ui icon exclamation circle"}),e&&r.a.createElement("strong",null,e))}}]),a}(r.a.Component),_=Object(T.a)({form:"userForm",validate:function(e){var t={};return e.name||(t.name="You must enter a name"),e.age&&(isNaN(e.age)?t.age="Age must be a number":e.age<0&&(t.age="Age must not be negative")),e.email||(t.email="You must enter an email"),e.password?e.password.length<7?t.password="Password must have length atleast 7":e.password.toLowerCase().includes("password")&&(t.password='It must not contain "password"'):t.password="You must enter a password",t}})(P),U=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(){var t=Object(g.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(e){return setTimeout(e,1)})).then(Object(g.a)(v.a.mark((function t(){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.signUp(a);case 2:if(!(n=t.sent)){t.next=14;break}if(400!==n.response.status){t.next=14;break}if(console.log(n.response),!n.response.data.errors){t.next=11;break}if("Given Email is invalid!"!==n.response.data.errors.email.properties.message){t.next=9;break}throw new I.a({_error:"Invalid email"});case 9:t.next=14;break;case 11:if("MongoError"!==n.response.data.name){t.next=14;break}if(11e3!==n.response.data.code){t.next=14;break}throw new I.a({_error:"Email already in use!"});case 14:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create new account"),r.a.createElement(_,{onSubmit:this.onSubmit}))}}]),a}(r.a.Component),L={signUp:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.post("/users",Object(E.a)({},e));case 3:201===t.sent.status&&x.push("/signin"),t.next=11;break;case 7:if(t.prev=7,t.t0=t.catch(0),400!==t.t0.response.status){t.next=11;break}return t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},B=Object(m.b)((function(e){return{}}),L)(U),D=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).renderInput=function(t){var a=t.input,n=t.label,o=t.type,s=t.meta,c="field ".concat(s.error&&s.touched?"error":"");return r.a.createElement("div",{className:c},r.a.createElement("label",null,n),r.a.createElement("input",Object.assign({},a,{placeholder:n,type:o,autoComplete:"off"})),e.renderError(s))},e.onSubmit=function(t){return new Promise((function(e){return setTimeout(e,1)})).then(Object(g.a)(v.a.mark((function a(){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.logIn(t);case 2:if(400!==a.sent){a.next=5;break}throw new I.a({_error:"Invalid credentials. Login failed!"});case 5:case"end":return a.stop()}}),a)}))))},e.render=function(){var t=e.props,a=t.error,n=t.handleSubmit,o=t.pristine,s=t.reset,c=t.submitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Login to your account"),r.a.createElement("form",{className:"ui form error",onSubmit:n(e.onSubmit)},r.a.createElement(A.a,{name:"email",type:"text",component:e.renderInput,label:"Email"}),r.a.createElement(A.a,{name:"password",type:"password",component:e.renderInput,label:"Password"}),r.a.createElement("div",null,e.renderSubmitError(a),r.a.createElement("div",null,r.a.createElement("button",{className:"ui button primary",type:"submit",disabled:c},"Log In"),r.a.createElement("button",{className:"ui button red",type:"button",disabled:o||c,onClick:s},"Clear Values")))))},e}return Object(l.a)(a,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("div",{style:{color:"#770000"}},r.a.createElement("i",{className:"ui icon exclamation circle"}),t)}},{key:"renderSubmitError",value:function(e){if(e)return r.a.createElement("h3",{style:{color:"#770000"}},r.a.createElement("i",{className:"ui icon exclamation circle"}),e&&r.a.createElement("strong",null,e))}}]),a}(r.a.Component),z={logIn:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.post("/users/login",Object(E.a)({},e));case 3:200===(n=t.sent).status&&(a({type:"LOG_IN",payload:n.data}),x.push("/")),t.next=11;break;case 7:if(t.prev=7,t.t0=t.catch(0),400!==t.t0.response.status){t.next=11;break}return t.abrupt("return",t.t0.response.status);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},F=Object(m.b)((function(e){return{}}),z)(Object(T.a)({form:"Login",validate:function(e){var t={};return e.email||(t.email="You must enter an email"),e.password||(t.password="You must enter a password"),t}})(D)),M=function(e){return r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui text loader"},e.msg))};M.defaultProps={msg:"Loading..."};var G=M,R=(a(349),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={mousePointing:!1},e.onMouseEnter=function(){e.setState({mousePointing:!0})},e.onMouseExit=function(){e.setState({mousePointing:!1})},e.renderPointer=function(){if(e.state.mousePointing)return r.a.createElement("div",{className:"ui left pointing black basic label",style:{position:"absolute",zIndex:10,top:40,left:112}},"Upload avatar")},e.onClick=function(){x.push("/profile/update-avatar")},e.renderAvatar=function(){if(e.props.user){if(e.props.user.avatar){var t="avatar ".concat(e.state.mousePointing?"mouse-pointer":"");return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"http://localhost:3001/users/".concat(e.props.user._id,"/avatar"),alt:"not found",className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseExit,onClick:e.onClick}),e.renderPointer())}var a="grey massive aligned icon user circle ".concat(e.state.mousePointing?"mouse-pointer":"");return r.a.createElement("span",null,r.a.createElement("i",{className:a,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseExit,onClick:e.onClick}),e.renderPointer())}},e}return Object(l.a)(a,[{key:"renderContentHeader",value:function(){return this.props.user?r.a.createElement(r.a.Fragment,null,this.renderAvatar(),r.a.createElement("span",{style:{fontSize:"30px",marginBottom:"10px"}},this.props.user.name)):r.a.createElement("div",null,r.a.createElement(G,null))}},{key:"renderContent",value:function(){if(this.props.user)return r.a.createElement("div",null,r.a.createElement("div",{className:"ui segment",style:{fontSize:"15px",WebkitBoxShadow:"none",border:"none"}},r.a.createElement("div",{className:"ui relaxed divided list",style:{fontSize:"15px"}},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"content"},r.a.createElement("strong",{className:"field-label"},"Age :"),r.a.createElement("span",{className:"field-span"},this.props.user.age))),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"content"},r.a.createElement("strong",{className:"field-label"},"Email :"),r.a.createElement("span",{className:"field-span"},this.props.user.email))))),r.a.createElement("div",null,r.a.createElement(d.a,{to:"/profile/update",className:"ui button primary"},"Edit"),r.a.createElement(d.a,{to:"/profile/delete",className:"ui button red"},"Delete")))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{margin:"6px 0 0",paddingBottom:"10px",borderBottom:"1px solid #4a4a4a",display:"flex",alignItems:"flex-end",justifyContent:"flex-start",position:"relative",zIndex:"1"}},this.renderContentHeader()),r.a.createElement("div",null,this.renderContent()))}}]),a}(r.a.Component)),W=Object(m.b)((function(e){return{user:e.auth.user}}),{})(R),V=a(421),K=a(424),Y=a(420),H=a(232),J=a(414),q=a(422),X=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).validateImageWeight=function(t){if(t&&t.size){var a=t.size/1024,n=e.props.maxWeight;if(a>n)return"Image size must be less or equal to ".concat(n,"kb")}},e.validateImageFormat=function(t){if(t){var a=e.props.mimeType;if(!a.includes(t.type))return"Image mime type must be ".concat(a)}},e.handlePreview=function(e){document.querySelector(".preview-image").src=e},e.handleChange=function(t,a){t.preventDefault();var n=t.target.files[0];if(n){var r=URL.createObjectURL(n),o=new window.Image;o.onload=function(){n.width=o.naturalWidth,n.height=o.naturalHeight,a.onChange(n),URL.revokeObjectURL(n)},o.src=r,e.handlePreview(r)}},e.renderFileInput=function(t){var a=t.input,n=t.type,o=t.meta,s=e.props.mimeType;return r.a.createElement("div",null,r.a.createElement("input",{name:a.name,type:n,accept:s,onChange:function(t){return e.handleChange(t,a)}}),o&&o.invalid&&o.error&&r.a.createElement(V.a,{negative:!0,header:"Error:",content:o.error}))},e.handleSubmitForm=function(t){var a=new FormData;a.append("avatar",t.image);var n=e.props.token;e.props.uploadAvatar(n,a)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.previewLogoUrl,a=e.maxWeight,n=e.handleSubmit;return r.a.createElement(K.a,{centered:!0,style:{height:"100%"},verticalAlign:"middle",padded:!0},r.a.createElement(K.a.Column,{style:{maxWidth:400}},r.a.createElement(Y.a,{fluid:!0},r.a.createElement(H.a,{src:t,alt:"preview",className:"preview-image",style:{height:"300px",objectFit:"cover"}}),r.a.createElement(Y.a.Content,null,r.a.createElement(Y.a.Header,null,"Upload Avatar"),r.a.createElement(Y.a.Description,null,"Image has to:",r.a.createElement("ul",null,r.a.createElement("li",null,"be JPEG or PNG"),r.a.createElement("li",null,"have Size \u2264 ",a,"kb")))),r.a.createElement(Y.a.Content,null,r.a.createElement(J.a,null,r.a.createElement(J.a.Field,null,r.a.createElement(A.a,{name:"image",type:"file",validate:[this.validateImageWeight,this.validateImageFormat],component:this.renderFileInput})),r.a.createElement(q.a,{primary:!0,type:"submit",className:"form-submit-button",onClick:n(this.handleSubmitForm)},"Submit"))))))}}]),a}(r.a.Component);X.defaultProps={previewLogoUrl:"https://imgplaceholder.com/400x300",mimeType:"image/jpeg, image/png",maxWeight:1e3};var Q={uploadAvatar:function(e,t){return function(){var a=Object(g.a)(v.a.mark((function a(n){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.post("/users/me/avatar",t,{headers:{Authorization:"Bearer ".concat(e)}});case 3:200===(r=a.sent).status&&(n({type:"UPDATE_USER",payload:r.data}),x.push("/profile")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},Z=Object(m.b)((function(e){return{user:e.auth.user,token:e.auth.token}}),Q)(Object(T.a)({form:"UpdateAvatar"})(X)),$=function(e){return s.a.createPortal(r.a.createElement("div",{className:"ui dimmer modals visible active",onClick:e.onDismiss},r.a.createElement("div",{className:"ui standard modal visible active",onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"content"},e.content),r.a.createElement("div",{className:"actions"},e.actions))),document.getElementById("modal"))},ee=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onDeleteClick=function(){e.props.deleteUser(e.props.token)},e.renderContent=function(){return"Are you sure you want to delete your account?"},e}return Object(l.a)(a,[{key:"renderActions",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"ui button red",onClick:this.onDeleteClick},"Delete"),r.a.createElement(d.a,{to:"/profile",className:"ui button"},"Cancel"))}},{key:"render",value:function(){return r.a.createElement($,{title:"Delete User",content:this.renderContent(),actions:this.renderActions(),onDismiss:function(){x.push("/profile")}})}}]),a}(r.a.Component),te={deleteUser:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.delete("/users/me",{headers:{Authorization:"Bearer ".concat(e)}});case 3:200===t.sent.status&&(a({type:"LOG_OUT"}),x.push("/")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},ae=Object(m.b)((function(e){return{token:e.auth.token}}),te)(ee),ne=a(229),re=a.n(ne),oe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){return console.log(t),new Promise((function(e){return setTimeout(e,1)})).then(Object(g.a)(v.a.mark((function a(){var n;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.updateUser(e.props.token,t);case 2:if(!(n=a.sent)){a.next=14;break}if(400!==n.response.status){a.next=14;break}if(console.log(n.response),!n.response.data.errors){a.next=11;break}if("Given Email is invalid!"!==n.response.data.errors.email.properties.message){a.next=9;break}throw new I.a({_error:"Invalid email"});case 9:a.next=14;break;case 11:if("MongoError"!==n.response.data.name){a.next=14;break}if(11e3!==n.response.data.code){a.next=14;break}throw new I.a({_error:"Email already in use!"});case 14:case"end":return a.stop()}}),a)}))))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit User"),r.a.createElement(_,{initialValues:re.a.pick(this.props.user,"name","email","age"),onSubmit:this.onSubmit}))}}]),a}(r.a.Component),se={updateUser:function(e,t){return function(){var a=Object(g.a)(v.a.mark((function a(n){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.patch("/users/me",t,{headers:{Authorization:"Bearer ".concat(e)}});case 3:200===(r=a.sent).status&&(n({type:"UPDATE_USER",payload:r.data}),x.push("/profile")),a.next=10;break;case 7:return a.prev=7,a.t0=a.catch(0),a.abrupt("return",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},ce=Object(m.b)((function(e){return{user:e.auth.user,token:e.auth.token}}),se)(oe),ie=a(411),le=a(412),ue=a(413),pe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"renderBtn",value:function(){return this.props.isSignedIn?r.a.createElement("div",null,r.a.createElement(d.a,{to:"/tasks",className:"ui big button blue"},"Show Tasks")):r.a.createElement("div",null,r.a.createElement(d.a,{to:"/signup",className:"ui big button blue"},"Create Account"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"page"},r.a.createElement(ie.a,null,r.a.createElement(le.a,null,r.a.createElement(ue.a,{xs:{offset:2,span:8,order:2},md:{offset:0,span:6,order:1},xl:{offset:0,span:5,order:1}},r.a.createElement("img",{src:"/images/tasks.png",alt:"tasks",style:{maxWidth:"100%"}})),r.a.createElement(ue.a,{xs:{span:12,order:1},md:{span:6,order:2},xl:{span:7,order:2},style:{textAlign:"center",marginBottom:"5%"}},r.a.createElement("h1",{className:"home-content"},"What is this about?"),r.a.createElement("h2",null,"It is an application that efficiently lets you to jot down your day-to-day tasks which boosts productivity by organizing your life well."))),r.a.createElement(le.a,null,r.a.createElement(ue.a,{xl:{span:12},style:{textAlign:"center",margin:"8% 0"}},this.renderBtn()))))}}]),a}(r.a.Component),me=Object(m.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}),{})(pe),de=(a(399),a(230)),fe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={inputVal:"",isOpened:!0},e.onKeyPress=function(t){if(13===t.which){var a=e.props.token;e.props.addTask({description:e.state.inputVal},a),e.setState({inputVal:""})}},e.onInputChange=function(t){e.setState({inputVal:t.target.value})},e.renderTask=function(t){return r.a.createElement("div",null," ",r.a.createElement("span",{className:"tasks-span",onClick:function(a){var n=e.props.token;e.props.deleteTask(t,n),a.stopPropagation()}}," ",r.a.createElement("i",{className:"fas fa-trash-alt"})," ")," ",t.description)},e.renderList=function(){if(e.props.tasks)return e.props.tasks.map((function(t){return t.completed?r.a.createElement("li",{className:"completed",key:t._id},e.renderTask(t)):r.a.createElement("li",{key:t._id},e.renderTask(t))}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add("tasks-body");var e=localStorage.getItem("token");e&&this.props.fetchTasks(e)}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("tasks-body")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"tasks-container"},r.a.createElement("h1",{id:"list-header"},"Tasks",r.a.createElement("i",{className:"fas fa-plus",onClick:function(){e.state.isOpened?e.setState({isOpened:!1}):e.setState({isOpened:!0})}})),r.a.createElement(de.Collapse,{isOpened:this.state.isOpened},r.a.createElement("input",{type:"text",placeholder:"Add New Todo",value:this.state.inputVal,onKeyPress:this.onKeyPress,onChange:this.onInputChange})),r.a.createElement("ul",null,this.renderList())))}}]),a}(r.a.Component),be={fetchTasks:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/tasks",{headers:{Authorization:"Bearer ".concat(e)}});case 3:200===(n=t.sent).status&&a({type:"SAVE_TASKS",payload:n.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},addTask:function(e,t){return function(){var a=Object(g.a)(v.a.mark((function a(n){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.post("/tasks",e,{headers:{Authorization:"Bearer ".concat(t)}});case 3:201===(r=a.sent).status&&n({type:"ADD_TASK",payload:r.data}),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},deleteTask:function(e,t){return function(){var a=Object(g.a)(v.a.mark((function a(n){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.delete("/tasks/".concat(e._id),{headers:{Authorization:"Bearer ".concat(t)}});case 3:200===(r=a.sent).status&&n({type:"DELETE_TASK",payload:r.data}),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},he=Object(m.b)((function(e){return{token:e.auth.token,tasks:e.tasks}}),be)(fe),ve=function(){return r.a.createElement("div",{className:"ui container",style:{marginLeft:"5%",marginRight:"5%"}},r.a.createElement(c.b,{history:x},r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",exact:!0,component:me}),r.a.createElement(c.a,{path:"/signup",exact:!0,component:B}),r.a.createElement(c.a,{path:"/signin",exact:!0,component:F}),r.a.createElement(c.a,{path:"/profile",exact:!0,component:W}),r.a.createElement(c.a,{path:"/profile/update",exact:!0,component:ce}),r.a.createElement(c.a,{path:"/profile/update-avatar",exact:!0,component:Z}),r.a.createElement(c.a,{path:"/profile/delete",exact:!0,component:ae}),r.a.createElement(c.a,{path:"/tasks",exact:!0,component:he})))))},Ee=a(21),ge=a(231),ye=a(423),ke={isSignedIn:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return Object(E.a)(Object(E.a)({},e),{},{isSignedIn:!0,user:t.payload.user,token:t.payload.token});case"LOG_OUT":return Object(E.a)(Object(E.a)({},e),{},{isSignedIn:!1,user:null,token:null});case"UPDATE_USER":return Object(E.a)(Object(E.a)({},e),{},{user:t.payload});default:return e}},xe=a(233),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_TASKS":return t.payload;case"ADD_TASK":return[].concat(Object(xe.a)(e),[t.payload]);case"DELETE_TASK":return e.filter((function(e){return e._id!==t.payload._id}));default:return e}},je=Object(Ee.c)({auth:Oe,tasks:we,form:ye.a}),Se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d,Ne=Object(Ee.e)(je,Se(Object(Ee.a)(ge.a)));s.a.render(r.a.createElement(m.a,{store:Ne},r.a.createElement(ve,null)),document.getElementById("root"))}},[[246,1,2]]]);
//# sourceMappingURL=main.48a84a93.chunk.js.map